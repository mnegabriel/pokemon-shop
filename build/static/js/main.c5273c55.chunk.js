(this["webpackJsonppokemon-shop"]=this["webpackJsonppokemon-shop"]||[]).push([[0],{20:function(e,t,a){e.exports=a(43)},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=a(2);var i=function(){return r.a.createElement("header",null,r.a.createElement("img",{alt:""}),r.a.createElement("ul",null,r.a.createElement("li",null,"Bot\xe3o 1"),r.a.createElement("li",null,"Bot\xe3o 2"),r.a.createElement("li",null,"Bot\xe3o 3")))};var u=function(){return r.a.createElement("footer",null," Created by ",r.a.createElement("a",{href:"https://github.com/mnegabriel"},"Gabriel Dantas"))},s=a(5),m=a(9),f=a(4),p=a.n(f),d=a(7),v=a(8),E=a.n(v);var b=function(e){var t=e.pokeProps,a=t.id,n=t.name,c=t.sprites.front_default,o=e.grabPokeInfo,l=e.custo,i=n[0].toUpperCase()+n.slice(1),u=c;return r.a.createElement("div",{className:"card"},r.a.createElement("img",{src:u,alt:""}),r.a.createElement("p",null,"PokeIndex: ",a),r.a.createElement("p",null,"R$",l,",00"),r.a.createElement("h5",null,i),r.a.createElement("button",{onClick:function(){return o({id:a,name:n,image:u,custo:l,units:1})}}," Add to cart "))};var h=function(e){var t=e.dbPrices,a=Object(n.useState)(""),c=Object(l.a)(a,2),o=c[0],i=c[1],u=Object(n.useState)(""),s=Object(l.a)(u,2),m=s[0],f=s[1],v=Object(n.useState)(!0),h=Object(l.a)(v,2),k=h[0],j=h[1],O=Object(n.useState)([]),g=Object(l.a)(O,2),N=g[0],C=g[1],P=Object(n.useState)("https://pokeapi.co/api/v2/pokemon"),x=Object(l.a)(P,2),I=x[0],S=x[1];function y(){null!=m&&(j(!0),S(m),console.log(m))}function B(){j(!0),S(o),console.log(o)}Object(n.useEffect)((function(){E.a.get(I).then((function(t){var a=t.data,n=a.results,r=a.next,c=a.previous;i(r),f(c),e(n)}));var e=function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(d.a)(p.a.mark((function e(t){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=E.a.get(t.url).then((function(e){return e.data})),e.abrupt("return",a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:a=e.sent,C(a),j(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),[I]);var w=e.dataForCart;function F(e){w(e)}return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pagination"},r.a.createElement("button",{onClick:y},"Prev"),r.a.createElement("button",{onClick:B},"Next")),r.a.createElement("div",{className:"deck"},k?r.a.createElement("h1",null,"Carregando..."):N.map((function(e){var a=t[e.id].price;return r.a.createElement(b,{key:e.id,pokeProps:e,custo:a,grabPokeInfo:F})}))),r.a.createElement("div",{className:"pagination"},r.a.createElement("button",{onClick:y},"Prev"),r.a.createElement("button",{onClick:B},"Next")))};var k=function(e){var t=e.pokeCart,a=t.id,n=t.name,c=t.image,o=t.custo,l=t.units,i=e.removePokemon;return console.log(i),r.a.createElement("div",{className:"cartItem"},r.a.createElement("img",{src:c,alt:"",className:"itemImg"}),r.a.createElement("p",{className:"itemPrice"},"R$",o*l,",00"),r.a.createElement("p",{className:"itemUnits"},"x ",l),r.a.createElement("button",{onClick:function(){return i({id:a,name:n,image:c,custo:o,units:1})}},"x"))};var j=function(e){var t=e.cartItems,a=e.cartItemButton;function n(e){a(e)}var c=t.map((function(e){return r.a.createElement(k,{key:e.id,pokeCart:e,removePokemon:n})})),o=t.reduce((function(e,t){return e+t.units*t.custo}),0);return r.a.createElement("div",{className:"cart"},r.a.createElement("h1",null,"Carrinho"),r.a.createElement("div",{className:"cartBox"},t.length>0?c:r.a.createElement("h2",null,"carrinho vazio")),r.a.createElement("h3",null,"Total da compra:  R$ ",o,",00"))};var O=function(e){var t=e.prices,a=Object(n.useState)([]),c=Object(l.a)(a,2),o=c[0],i=c[1];return r.a.createElement("div",{className:"middle"},r.a.createElement("div",{className:"list"},r.a.createElement("h1",null,"Choose your pokemon:"),r.a.createElement(h,{dataForCart:function(e){var t=o.filter((function(t){return t.id===e.id}));if(t.length>0){var a=o.filter((function(e){return e.id!==t[0].id})),n=Object(m.a)({},t[0],{units:t[0].units+e.units});i([].concat(Object(s.a)(a),[n]))}else i([].concat(Object(s.a)(o),[e]))},dbPrices:t})),r.a.createElement("div",{className:"cartSection"},r.a.createElement(j,{cartItems:o,cartItemButton:function(e){var t=o.filter((function(t){return t.id===e.id})),a=o.filter((function(e){return e.id!==t[0].id}));if(1===t[0].units)i(Object(s.a)(a));else{var n=Object(m.a)({},t[0],{units:t[0].units-e.units});i([].concat(Object(s.a)(a),[n]))}}})))};var g=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){for(var e=[],t=0;t<964;t++)e.push({id:t,price:Math.floor(100*Math.random()+1)});c(e)}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(i,null),r.a.createElement(O,{prices:a}),r.a.createElement(u,null))};o.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.c5273c55.chunk.js.map